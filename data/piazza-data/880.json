{"aid": "iohbb0t6rp9aw", "result": {"folders": ["课堂问答", "lecture15", "学习方法"], "unique_views": 21, "no_answer": 1, "change_log": [{"data": "iogu025myhv2mw", "anon": "no", "when": "2016-05-21T07:26:19Z", "uid": "i0f24oie8102cr", "type": "create"}, {"to": "iogu025kaf62mv", "anon": "no", "when": "2016-05-21T09:37:13Z", "uid": "i0ccfx63sir1e", "type": "followup"}], "upvote_ids": [], "id": "iogu025kaf62mv", "bookmarked": 4, "no_answer_followup": 1, "i_edits": [], "is_bookmarked": false, "children": [{"folders": [], "updated": "2016-05-21T09:37:13Z", "no_upvotes": 0, "uid": "i0ccfx63sir1e", "created": "2016-05-21T09:37:13Z", "type": "followup", "d-bucket": "Yesterday", "id": "iogyoe8dzxr1nj", "anon": "no", "bucket_name": "Yesterday", "no_answer": 1, "config": {}, "bucket_order": 3, "data": null, "children": [], "subject": "<p>赞&#xff01;</p>"}], "request_instructor_me": false, "nr": 880, "bucket_order": 2, "config": {}, "status": "active", "tags": ["lecture15", "student", "unanswered", "学习方法", "课堂问答"], "num_favorites": 0, "bucket_name": "Today", "q_edits": [], "data": {"embed_links": []}, "request_instructor": 0, "created": "2016-05-21T07:26:19Z", "is_tag_good": false, "type": "question", "s_edits": [], "my_favorite": false, "default_anonymity": "no", "t": 1463844644825, "tag_good": [{"name": "Liu Xiaohong", "admin": false, "photo": null, "us": false, "email": "lxhlxhlxh555@gmail.com", "class_sections": ["清华学生_i5j09fnsl7k5x0"], "role": "student", "facebook_id": null, "id": "i0ccfx63sir1e"}, {"name": "叶子鹏", "admin": false, "photo": null, "us": false, "email": "775193759@qq.com", "class_sections": ["清华学生_i5j09fnsl7k5x0"], "role": "student", "facebook_id": null, "id": "i0f24oie8102cr"}, {"admin_permission": 10, "admin": true, "photo": "1378950179_35.png", "us": false, "email": "yuchen@mail.tsinghua.edu.cn", "class_sections": ["课程设计_i5j09fnsl7k5x0", "清华学生_i5j09fnsl7k5x0", "所有老师和助教_i5j09fnsl7k5x0"], "role": "instructor", "facebook_id": null, "id": "hcrrjuyequh4bt", "name": "Yu Chen"}], "tag_good_arr": ["i0ccfx63sir1e", "i0f24oie8102cr", "hcrrjuyequh4bt"], "history": [{"content": "<p>首先参考<a href=\"https://www.piazza.com/class/i5j09fnsl7k5x0?cid=810\" target=\"_blank\">suanrong</a>的这篇&#xff0c;我觉得他说的不清楚&#xff0c;所以我重新整理一遍&#xff0c;不过其实我也不太清楚&#xff0c;所以希望大家批评指正&#xff0c;争取能得出一个靠谱的答案。</p>\n<p></p>\n<p>首先描述一下这个问题&#xff1a;</p>\n<p>现在有3个进程&#xff0c;分别叫A,B和E&#xff0c;其中A和B需要资源S&#xff0c;而E不需要。优先级是A&gt;E&gt;B</p>\n<p>优先级反置是说这样一种情况&#xff1a;B正在占用S&#xff0c;A正在等待B释放S&#xff0c;而此时E的出现导致B没有机会执行&#xff08;因为E的优先级更高&#xff09;如果E的执行时间很长&#xff0c;导致的结果是&#xff0c;优先级最高的A长时间等待。</p>\n<p></p>\n<p>我们现在就是要解决这样一种情况&#xff0c;我们的想法是从B着手&#xff0c;我们需要让B赶紧执行&#xff08;从而释放S&#xff09;&#xff0c;但是我们调度的算法是根据优先级的顺序来调度的&#xff0c;我们只能临时让B的优先级提高&#xff0c;于是就有了下面两种算法&#xff1a;</p>\n<p></p>\n<p>首先&#xff0c;这两种算法的区别在于B提升优先级的时机不同</p>\n<p></p>\n<p><strong>优先级继承</strong></p>\n<p>一种“懒惰”的策略&#xff0c;B的优先级在A申请资源之后&#xff0c;并且被E阻塞的时候才会提升。</p>\n<p>这种方法只在占有资源的低优先级任务阻塞了高优先级任务时才动态的改变任务的优先级&#xff0c;如果过程较复杂&#xff0c; 则需要进行判断。</p>\n<p><strong>天花板协议</strong></p>\n<p>一种“协议”&#xff0c;为每个信号量定义一个“优先级顶”&#xff0c;这个“优先级顶”是所有可能申请该信号量的优先级最高者&#xff0c;这个值是事先分析好的。当进程申请到资源S之后&#xff0c;优先级就提升到S的优先级顶。</p>\n<p>这种方法简单易行&#xff0c; 不必进行复杂的判断&#xff0c; 不管任务是否阻塞了高优先级任务的运行&#xff0c; 只要任务访问共享资源都会提升任务的优先级。</p>", "anon": "no", "subject": "优先级继承vs天花板协议", "uid": "i0f24oie8102cr", "created": "2016-05-21T07:26:19Z"}]}, "error": null}