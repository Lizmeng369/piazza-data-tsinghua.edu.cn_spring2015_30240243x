{"error": null, "result": {"nr": 189, "upvote_ids": [], "change_log": [{"type": "create", "when": "2015-03-27T12:16:19Z", "uid": "i6roqnlkmtw", "data": "i7rjzcyb6lh156", "anon": "no"}, {"uid": "hcrrjuyequh4bt", "to": "i7rjzcy87um155", "when": "2015-03-27T13:40:39Z", "anon": "no", "data": "i7rmztb4h7y73v", "type": "i_answer"}], "q_edits": [], "i_edits": [], "unique_views": 69, "bookmarked": 5, "config": {}, "history": [{"subject": "实验指导书有一点不明白", "content": "<p>实验指导书124页&#xff0c;讲虚拟地址、线性地址和物理地址的几次切换的那一段</p>\n<p>在第三个阶段里说&#xff1a;</p>\n<p></p>\n<pre><code>virt addr - 0xC0000000 = linear addr  = phy addr &#43; 0xC0000000</code></pre>\n<p>可是这样的话岂不是virt addr - phy addr都超过32位数所能表示的了吗&#xff1f;</p>\n<p>是我理解的不对吗&#xff1f;</p>\n<p></p>\n<p>个人认为第三阶段应该是&#xff1a;</p>\n<p>virt addr  =  linear  addr  =  phy  addr  &#43;  0xC0000000      #4MB之外的已经进入了虚拟=线性的状态<br />virt addr  -  0xC0000000 =  linear  addr  =   phy   addr      # 0~4MB建立一个临时的映射</p>\n<p></p>\n<p>然后第四阶段去掉0-4MB的映射&#xff0c;全面进入虚拟=线性=物理&#43;0xC00000</p>\n<p></p>\n<p>求老师或者助教解答</p>", "created": "2015-03-27T12:16:19Z", "uid": "i6roqnlkmtw", "anon": "no"}], "data": {"embed_links": []}, "request_instructor_me": false, "folders": ["lab2"], "type": "question", "tag_good": [], "no_answer": 0, "created": "2015-03-27T12:16:19Z", "t": 1433500179139, "id": "i7rjzcy87um155", "status": "active", "tag_good_arr": [], "default_anonymity": "no", "my_favorite": false, "bucket_order": 2, "is_bookmarked": false, "is_tag_good": false, "bucket_name": "Today", "no_answer_followup": 0, "children": [{"folders": [], "bucket_order": 2, "config": {}, "history": [{"subject": "", "content": "<p><a href=\"https://github.com/objectkuan/ucore_docs/blob/master/lab2/lab2_3_3_5_4_maping_relations.md\">https://github.com/objectkuan/ucore_docs/blob/master/lab2/lab2_3_3_5_4_maping_relations.md</a></p>\n<p>是目前最新的文档。我估计你看的应该是最新文档。</p>\n<p>其实在第三阶段&#xff0c;由于代码段和数据段的物理地址范围限制在0~4MB&#xff0c;在没启动页机制前 &#xff0c;基于段机制的映射关系&#xff08;见kern/init/entry.S&#xff09;</p>\n<pre>__gdt:\n    SEG_NULL\n    SEG_ASM(STA_X | STA_R, - KERNBASE, 0xFFFFFFFF)      # code segment\n    SEG_ASM(STA_W, - KERNBASE, 0xFFFFFFFF)              # data segment\n__gdtdesc:\n    .word 0x17                                          # sizeof(__gdt) - 1\n    .long REALLOC(__gdt)\n</pre>\n<p>可知 </p>\n<pre>virt addr - 0xC0000000 = linear addr</pre>\n<p>而页机制使能后&#xff08;如果不算临时页表&#xff09;的映射关系是 linear  addr  =  phy  addr  &#43;  0xC0000000 </p>\n<p>所以 这时的映射关系就是</p>\n<pre>virt addr - 0xC0000000 = linear addr  = phy addr &#43; 0xC0000000</pre>", "created": "2015-03-27T13:40:39Z", "uid": "hcrrjuyequh4bt", "anon": "no"}], "data": {"embed_links": []}, "bucket_name": "Today", "is_tag_endorse": false, "children": [], "tag_endorse": [], "tag_endorse_arr": [], "created": "2015-03-27T13:40:39Z", "id": "i7rmztb0rm073u", "type": "i_answer"}], "request_instructor": 0, "tags": ["lab2", "student"], "s_edits": [], "num_favorites": 0}, "aid": "iajgzt8jt836va"}