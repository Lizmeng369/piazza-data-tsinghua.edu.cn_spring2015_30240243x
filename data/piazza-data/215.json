{"error": null, "result": {"nr": 215, "upvote_ids": [], "change_log": [{"when": "2015-03-31T03:42:07Z", "anon": "stud", "data": "i7wrdi8eilf3sp", "type": "create"}, {"when": "2015-03-31T03:51:32Z", "anon": "stud", "data": "i7wrpm26ifu5jw", "type": "update"}, {"uid": "hcrrjuyequh4bt", "to": "i7wrdi89in73sn", "when": "2015-04-01T03:47:14Z", "anon": "no", "data": "i7y6zxl8p1y2y7", "type": "i_answer"}, {"type": "update", "when": "2015-04-01T03:59:28Z", "uid": "hcrrjuyequh4bt", "data": "i7y7fo79s555ij", "anon": "no"}, {"to": "i7wrdi89in73sn", "when": "2015-04-01T11:53:58Z", "anon": "stud", "type": "followup"}, {"type": "feedback", "to": "i7wrdi89in73sn", "when": "2015-04-01T14:05:05Z", "uid": "hcrrjuyequh4bt", "anon": "no"}, {"type": "update", "when": "2015-04-01T14:06:25Z", "uid": "hcrrjuyequh4bt", "data": "i7yt47fcz1a37s", "anon": "no"}, {"type": "update", "when": "2015-04-01T14:08:25Z", "uid": "hcrrjuyequh4bt", "data": "i7yt6s3mtkr2dv", "anon": "no"}, {"type": "followup", "to": "i7wrdi89in73sn", "when": "2015-04-03T02:09:33Z", "uid": "i78odcf1aiM", "anon": "no"}, {"type": "feedback", "to": "i7wrdi89in73sn", "when": "2015-04-03T09:30:54Z", "uid": "i6rvi22aN6Q", "anon": "no"}], "q_edits": [], "i_edits": [], "unique_views": 65, "bookmarked": 3, "config": {}, "history": [{"subject": "【注意】内联汇编&#xff08;语句&#xff09;分为基本和扩展asm语句", "content": "<p>感谢Alanpsc指出课程知识点的错误&#xff01;下面是Alanpsc的信息。</p>\n<p>---------------------------------------------------------------------------------------------</p>\n<p></p>\n<div>发现这个知识点&#xff0c;源于编译含有内联汇编代码的c文件时出现错误。</div>\n<p></p>\n<p>“在线实验平台”/ucore_lab/related_info/lab1下&#xff1a;</p>\n<p></p>\n<p>#gcc lab1-ex3.c (Enter)</p>\n<p></p>\n<p>出现&#xff1a;</p>\n<p></p>\n<div>lab1-ex3.c: Assembler messages:                                                 </div>\n<div>lab1-ex3.c:2: Error: bad register name &#96;%%eax&#39;</div>\n<div></div>\n<div>&#xff08;实验楼也是一样的情况。&#xff09;</div>\n<div>  </div>\n<div>源文件&#xff08;lab1-ex3.c&#xff09;中有&#xff1a;</div>\n<div>void inline ex1(void){                                                          </div>\n<div>\n<div>        asm (&#34;movl $0xffff, %%eax\\n&#34;);                                          </div>\n<div>} </div>\n<div>    </div>\n<div>如果把eax前面的两个“%”改成一个“%”&#xff0c;则函数ex1编译正确。</div>\n<div>   </div>\n<div>可是&#xff0c;在视频“4.3 GCC内联汇编”讲到Example 1时&#xff0c;说汇编代码与内联汇编的对应关系是&#xff08;并且强调多加一个“%”&#xff09;&#xff1a;</div>\n<div>  </div>\n<div>movl $0xffff, %eax       ----&gt;   asm (“movl $0xffff, %%eax\\n”);</div>\n<div>  </div>\n<div>怎么讲的与实际的情况相矛盾&#xff1f;</div>\n<div>   </div>\n<div>带着这个问题&#xff0c;我阅看了本节&#xff08;4.3&#xff09;ppt中“CC内联汇编-参考资料”指定的内容&#xff1a;“GCC Manual 6.41 –6.43&#xff08;version 4.9.2)”和“<a href=\"http://www.ibm.com/developerworks/library/l-ia/index.html\" target=\"_blank\">Inline assembly for x86 in Linux</a>”。</div>\n<div>   </div>\n<div>但这两处只讲扩展asm&#xff08;extended asm&#xff09;语句结构&#xff0c;甚至都没有提到“基本asm&#xff08;basic asm&#xff09;语句”这个概念。</div>\n<div>   </div>\n<div>后来在GNU网站找到了一个网页<a href=\"https://gcc.gnu.org/onlinedocs/gcc.pdf\" target=\"_blank\">https://gcc.gnu.org/onlinedocs/gcc.pdf</a>&#xff08;GCC Manual&#xff0c; 版本为5.0.0 pre-release&#xff09;&#xff0c;内面6.43节&#xff08;How to Use Inline Assembly Language in C Code&#xff09;介绍&#xff1a;</div>\n<div>   </div>\n<div>GCC 提供了两种inline asm statements&#xff1a;basic asm statement和extended asm statement。</div>\n<div>   </div>\n<div>其中&#xff1a;</div>\n<div>  </div>\n<div>基本asm语句&#xff08;basic asm statement&#xff09;语法为</div>\n<div>asm [ volatile ] ( Assembler Instructions )</div>\n<div>    </div>\n<div>扩展asm语句&#xff08;extended asm statement&#xff09;语法为</div>\n<div>asm [volatile] ( Assembler Template<br />: Output Operands<br />[ : Input Operands<br />[ : Clobbers ] ])</div>\n<div>&#xff08;还有一种形式&#xff0c;不再赘述&#xff09;</div>\n<div>    </div>\n<div>&#xff08;还可参考<a href=\"http://www.ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html\" target=\"_blank\">GCC-Inline-Assembly-HOWTO</a>&#xff09;</div>\n<div>      </div>\n<div>至此&#xff0c;答案找到了&#xff1a;对于基本asm语句&#xff0c;GCC编译出来的汇编代码就是双引号里的内容。&#xff08;对于扩展asm语句&#xff0c;内联汇编才比汇编代码多一个%。&#xff09;</div>\n<div>   </div>\n<div>比如&#xff0c;对内联汇编语句“asm (“movl $0xffff, %%eax\\n”);”编译&#xff0c;因为它属于基本asm语句的语法格式&#xff0c;得到的汇编代码是“movl $0xffff, %%eax”&#xff0c;此代码不符合AT&amp;T语法&#xff08;eax前多一个%&#xff09;。</div>\n</div>\n<p>   </p>\n<p>即&#xff0c;要产生正确的汇编代码“movl $0xffff, %eax”&#xff0c;内联汇编应该是asm (“movl $0xffff, %eax\\n”);&#xff08;eax前只能一个%&#xff09;。</p>\n<p></p>\n<p>所以&#xff0c;我认为4.3节“GCC内联汇编”&#xff08;包括视频和ppt&#xff09;和实验文件&#xff08;/ucore_lab/related_info/lab1 lab1-ex3.c&#xff09;需要完善。</p>", "created": "2015-04-01T14:08:25Z", "uid": "hcrrjuyequh4bt", "anon": "no"}, {"subject": "内联汇编&#xff08;语句&#xff09;分为基本和扩展asm语句", "content": "<p></p>\n<div>发现这个知识点&#xff0c;源于编译含有内联汇编代码的c文件时出现错误。</div>\n<p></p>\n<p>“在线实验平台”/ucore_lab/related_info/lab1下&#xff1a;</p>\n<p></p>\n<p>#gcc lab1-ex3.c (Enter)</p>\n<p></p>\n<p>出现&#xff1a;</p>\n<p></p>\n<div>lab1-ex3.c: Assembler messages:                                                 </div>\n<div>lab1-ex3.c:2: Error: bad register name &#96;%%eax&#39;</div>\n<div></div>\n<div>&#xff08;实验楼也是一样的情况。&#xff09;</div>\n<div>  </div>\n<div>源文件&#xff08;lab1-ex3.c&#xff09;中有&#xff1a;</div>\n<div>void inline ex1(void){                                                          </div>\n<div>\n<div>        asm (&#34;movl $0xffff, %%eax\\n&#34;);                                          </div>\n<div>} </div>\n<div>    </div>\n<div>如果把eax前面的两个“%”改成一个“%”&#xff0c;则函数ex1编译正确。</div>\n<div>   </div>\n<div>可是&#xff0c;在视频“4.3 GCC内联汇编”讲到Example 1时&#xff0c;说汇编代码与内联汇编的对应关系是&#xff08;并且强调多加一个“%”&#xff09;&#xff1a;</div>\n<div>  </div>\n<div>movl $0xffff, %eax       ----&gt;   asm (“movl $0xffff, %%eax\\n”);</div>\n<div>  </div>\n<div>怎么讲的与实际的情况相矛盾&#xff1f;</div>\n<div>   </div>\n<div>带着这个问题&#xff0c;我阅看了本节&#xff08;4.3&#xff09;ppt中“CC内联汇编-参考资料”指定的内容&#xff1a;“GCC Manual 6.41 –6.43&#xff08;version 4.9.2)”和“<a href=\"http://www.ibm.com/developerworks/library/l-ia/index.html\" target=\"_blank\">Inline assembly for x86 in Linux</a>”。</div>\n<div>   </div>\n<div>但这两处只讲扩展asm&#xff08;extended asm&#xff09;语句结构&#xff0c;甚至都没有提到“基本asm&#xff08;basic asm&#xff09;语句”这个概念。</div>\n<div>   </div>\n<div>后来在GNU网站找到了一个网页<a href=\"https://gcc.gnu.org/onlinedocs/gcc.pdf\" target=\"_blank\">https://gcc.gnu.org/onlinedocs/gcc.pdf</a>&#xff08;GCC Manual&#xff0c; 版本为5.0.0 pre-release&#xff09;&#xff0c;内面6.43节&#xff08;How to Use Inline Assembly Language in C Code&#xff09;介绍&#xff1a;</div>\n<div>   </div>\n<div>GCC 提供了两种inline asm statements&#xff1a;basic asm statement和extended asm statement。</div>\n<div>   </div>\n<div>其中&#xff1a;</div>\n<div>  </div>\n<div>基本asm语句&#xff08;basic asm statement&#xff09;语法为</div>\n<div>asm [ volatile ] ( Assembler Instructions )</div>\n<div>    </div>\n<div>扩展asm语句&#xff08;extended asm statement&#xff09;语法为</div>\n<div>asm [volatile] ( Assembler Template<br />: Output Operands<br />[ : Input Operands<br />[ : Clobbers ] ])</div>\n<div>&#xff08;还有一种形式&#xff0c;不再赘述&#xff09;</div>\n<div>    </div>\n<div>&#xff08;还可参考<a href=\"http://www.ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html\" target=\"_blank\">GCC-Inline-Assembly-HOWTO</a>&#xff09;</div>\n<div>      </div>\n<div>至此&#xff0c;答案找到了&#xff1a;对于基本asm语句&#xff0c;GCC编译出来的汇编代码就是双引号里的内容。&#xff08;对于扩展asm语句&#xff0c;内联汇编才比汇编代码多一个%。&#xff09;</div>\n<div>   </div>\n<div>比如&#xff0c;对内联汇编语句“asm (“movl $0xffff, %%eax\\n”);”编译&#xff0c;因为它属于基本asm语句的语法格式&#xff0c;得到的汇编代码是“movl $0xffff, %%eax”&#xff0c;此代码不符合AT&amp;T语法&#xff08;eax前多一个%&#xff09;。</div>\n</div>\n<p>   </p>\n<p>即&#xff0c;要产生正确的汇编代码“movl $0xffff, %eax”&#xff0c;内联汇编应该是asm (“movl $0xffff, %eax\\n”);&#xff08;eax前只能一个%&#xff09;。</p>\n<p></p>\n<p>所以&#xff0c;我认为4.3节“GCC内联汇编”&#xff08;包括视频和ppt&#xff09;和实验文件&#xff08;/ucore_lab/related_info/lab1 lab1-ex3.c&#xff09;需要完善。</p>", "created": "2015-04-01T14:06:25Z", "uid": "hcrrjuyequh4bt", "anon": "no"}, {"subject": "内联汇编&#xff08;语句&#xff09;分为基本和扩展asm语句", "content": "<p></p>\n<div>发现这个知识点&#xff0c;源于编译含有内联汇编代码的c文件时出现错误。</div>\n<p></p>\n<p>“在线实验平台”/ucore_lab/related_info/lab1下&#xff1a;</p>\n<p></p>\n<p>#gcc lab1-ex3.c (Enter)</p>\n<p></p>\n<p>出现&#xff1a;</p>\n<p></p>\n<div>lab1-ex3.c: Assembler messages:                                                 </div>\n<div>lab1-ex3.c:2: Error: bad register name &#96;%%eax&#39;</div>\n<div></div>\n<div>&#xff08;实验楼也是一样的情况。&#xff09;</div>\n<div>  </div>\n<div>源文件&#xff08;lab1-ex3.c&#xff09;中有&#xff1a;</div>\n<div>void inline ex1(void){                                                          </div>\n<div>\n<div>        asm (&#34;movl $0xffff, %%eax\\n&#34;);                                          </div>\n<div>} </div>\n<div>    </div>\n<div>如果把eax前面的两个“%”改成一个“%”&#xff0c;则函数ex1编译正确。</div>\n<div>   </div>\n<div>可是&#xff0c;在视频“4.3 GCC内联汇编”讲到Example 1时&#xff0c;说汇编代码与内联汇编的对应关系是&#xff08;并且强调多加一个“%”&#xff09;&#xff1a;</div>\n<div>  </div>\n<div>movl $0xffff, %eax       ----&gt;   asm (“movl $0xffff, %%eax\\n”);</div>\n<div>  </div>\n<div>怎么讲的与实际的情况相矛盾&#xff1f;</div>\n<div>   </div>\n<div>带着这个问题&#xff0c;我阅看了本节&#xff08;4.3&#xff09;ppt中“CC内联汇编-参考资料”指定的内容&#xff1a;“GCC Manual 6.41 –6.43&#xff08;version 4.9.2)”和“<a href=\"http://www.ibm.com/developerworks/library/l-ia/index.html\" target=\"_blank\">Inline assembly for x86 in Linux</a>”。</div>\n<div>   </div>\n<div>但这两处只讲扩展asm&#xff08;extended asm&#xff09;语句结构&#xff0c;甚至都没有提到“基本asm&#xff08;basic asm&#xff09;语句”这个概念。</div>\n<div>   </div>\n<div>后来在GNU网站找到了一个网页<a href=\"https://gcc.gnu.org/onlinedocs/gcc.pdf\" target=\"_blank\">https://gcc.gnu.org/onlinedocs/gcc.pdf</a>&#xff08;GCC Manual&#xff0c; 版本为5.0.0 pre-release&#xff09;&#xff0c;内面6.43节&#xff08;How to Use Inline Assembly Language in C Code&#xff09;介绍&#xff1a;</div>\n<div>   </div>\n<div>GCC 提供了两种inline asm statements&#xff1a;basic asm statement和extended asm statement。</div>\n<div>   </div>\n<div>其中&#xff1a;</div>\n<div>  </div>\n<div>基本asm语句&#xff08;basic asm statement&#xff09;语法为</div>\n<div>asm [ volatile ] ( Assembler Instructions )</div>\n<div>    </div>\n<div>扩展asm语句&#xff08;extended asm statement&#xff09;语法为</div>\n<div>asm [volatile] ( Assembler Template<br />: Output Operands<br />[ : Input Operands<br />[ : Clobbers ] ])</div>\n<div>&#xff08;还有一种形式&#xff0c;不再赘述&#xff09;</div>\n<div>    </div>\n<div>&#xff08;还可参考<a href=\"http://www.ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html\" target=\"_blank\">GCC-Inline-Assembly-HOWTO</a>&#xff09;</div>\n<div>      </div>\n<div>至此&#xff0c;答案找到了&#xff1a;对于基本asm语句&#xff0c;GCC编译出来的汇编代码就是双引号里的内容。&#xff08;对于扩展asm语句&#xff0c;内联汇编才比汇编代码多一个%。&#xff09;</div>\n<div>   </div>\n<div>比如&#xff0c;对内联汇编语句“asm (“movl $0xffff, %%eax\\n”);”编译&#xff0c;因为它属于基本asm语句的语法格式&#xff0c;得到的汇编代码是“movl $0xffff, %%eax”&#xff0c;此代码不符合AT&amp;T语法&#xff08;eax前多一个%&#xff09;。</div>\n</div>\n<p>   </p>\n<p>即&#xff0c;要产生正确的汇编代码“movl $0xffff, %eax”&#xff0c;内联汇编应该是asm (“movl $0xffff, %eax\\n”);&#xff08;eax前只能一个%&#xff09;。</p>\n<p></p>\n<p>所以&#xff0c;我认为4.3节“GCC内联汇编”&#xff08;包括视频和ppt&#xff09;和实验文件&#xff08;/ucore_lab/related_info/lab1 lab1-ex3.c&#xff09;需要完善。</p>", "created": "2015-04-01T03:59:28Z", "uid": "hcrrjuyequh4bt", "anon": "no"}, {"subject": "内联汇编&#xff08;语句&#xff09;分为基本和扩展asm语句", "content": "<p></p>\n<div>发现这个知识点&#xff0c;源于编译含有内联汇编代码的c文件时出现错误。</div>\n<p></p>\n<p>“在线实验平台”/ucore_lab/related_info/lab1下&#xff1a;</p>\n<p></p>\n<p>#gcc lab1-ex3.c (Enter)</p>\n<p></p>\n<p>出现&#xff1a;</p>\n<p></p>\n<div>lab1-ex3.c: Assembler messages:                                                 </div>\n<div>lab1-ex3.c:2: Error: bad register name &#96;%%eax&#39;</div>\n<div></div>\n<div>&#xff08;实验楼也是一样的情况。&#xff09;</div>\n<div>  </div>\n<div>源文件&#xff08;lab1-ex3.c&#xff09;中有&#xff1a;</div>\n<div>void inline ex1(void){                                                          </div>\n<div>\n<div>        asm (&#34;movl $0xffff, %%eax\\n&#34;);                                          </div>\n<div>} </div>\n<div>    </div>\n<div>如果把eax前面的两个“%”改成一个“%”&#xff0c;则函数ex1编译正确。</div>\n<div>   </div>\n<div>可是&#xff0c;在视频“4.3 GCC内联汇编”讲到Example 1时&#xff0c;说汇编代码与内联汇编的对应关系是&#xff08;并且强调多加一个“%”&#xff09;&#xff1a;</div>\n<div>  </div>\n<div>movl $0xffff, %eax       ----&gt;   asm (“movl $0xffff, %%eax\\n”);</div>\n<div>  </div>\n<div>怎么讲的与实际的情况相矛盾&#xff1f;</div>\n<div>   </div>\n<div>带着这个问题&#xff0c;我阅看了本节&#xff08;4.3&#xff09;ppt中“CC内联汇编-参考资料”指定的内容&#xff1a;“GCC Manual 6.41 –6.43&#xff08;version 4.9.2)”和“<a href=\"http://www.ibm.com/developerworks/library/l-ia/index.html\" target=\"_blank\">Inline assembly for x86 in Linux</a>”。</div>\n<div>   </div>\n<div>但这两处只讲扩展asm&#xff08;extended asm&#xff09;语句结构&#xff0c;甚至都没有提到“基本asm&#xff08;basic asm&#xff09;语句”这个概念。</div>\n<div>   </div>\n<div>后来在GNU网站找到了一个网页<a href=\"https://gcc.gnu.org/onlinedocs/gcc.pdf\" target=\"_blank\">https://gcc.gnu.org/onlinedocs/gcc.pdf</a>&#xff08;GCC Manual&#xff0c; 版本为5.0.0 pre-release&#xff09;&#xff0c;内面6.43节&#xff08;How to Use Inline Assembly Language in C Code&#xff09;介绍&#xff1a;</div>\n<div>   </div>\n<div>GCC 提供了两种inline asm statements&#xff1a;basic asm statement和extended asm statement。</div>\n<div>   </div>\n<div>其中&#xff1a;</div>\n<div>  </div>\n<div>基本asm语句&#xff08;basic asm statement&#xff09;语法为</div>\n<div>asm [ volatile ] ( Assembler Instructions )</div>\n<div>    </div>\n<div>扩展asm语句&#xff08;extended asm statement&#xff09;语法为</div>\n<div>asm [volatile] ( Assembler Template<br />: Output Operands<br />[ : Input Operands<br />[ : Clobbers ] ])</div>\n<div>&#xff08;还有一种形式&#xff0c;不再赘述&#xff09;</div>\n<div>    </div>\n<div>&#xff08;还可参考<a href=\"http://www.ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html\" target=\"_blank\">GCC-Inline-Assembly-HOWTO</a>&#xff09;</div>\n<div>      </div>\n<div>至此&#xff0c;答案找到了&#xff1a;对于基本asm语句&#xff0c;GCC编译出来的汇编代码就是双引号里的内容。&#xff08;对于扩展asm语句&#xff0c;内联汇编才比汇编代码多一个%。&#xff09;</div>\n<div>   </div>\n<div>比如&#xff0c;对内联汇编语句“asm (“movl $0xffff, %%eax\\n”);”编译&#xff0c;因为它属于基本asm语句的语法格式&#xff0c;得到的汇编代码是“movl $0xffff, %%eax”&#xff0c;此代码不符合AT&amp;T语法&#xff08;eax前多一个%&#xff09;。</div>\n</div>\n<p>   </p>\n<p>即&#xff0c;要产生正确的汇编代码“movl $0xffff, %eax”&#xff0c;内联汇编应该是asm (“movl $0xffff, %eax\\n”);&#xff08;eax前只能一个%&#xff09;。</p>\n<p></p>\n<p>所以&#xff0c;我认为4.3节“GCC内联汇编”&#xff08;包括视频和ppt&#xff09;和实验文件&#xff08;/ucore_lab/related_info/lab1 lab1-ex3.c&#xff09;需要完善。</p>", "created": "2015-03-31T03:51:32Z", "anon": "stud"}, {"subject": "内联汇编&#xff08;语句&#xff09;分为基本和扩展asm语句", "content": "<p></p><div>发现这个知识点&#xff0c;源于编译含有内联汇编代码的c文件时出现错误。</div>\n<p></p>\n<p>“在线实验平台”/ucore_lab/related_info/lab1下&#xff1a;</p>\n<p></p>\n<p>#gcc lab1-ex3.c (Enter)</p>\n<p></p>\n<p>出现&#xff1a;</p>\n<p></p>\n<div>lab1-ex3.c: Assembler messages:                                                 </div>\n<div>lab1-ex3.c:2: Error: bad register name &#96;%%eax&#39;</div>\n<div></div>\n<div>&#xff08;实验楼也是一样的情况。&#xff09;</div>\n<div></div>\n<div>源文件&#xff08;lab1-ex3.c&#xff09;中有&#xff1a;</div>\n<div>void inline ex1(void){                                                          </div>\n<div>\n<div>        asm (&#34;movl $0xffff, %%eax\\n&#34;);                                          </div>\n<div>} </div>\n<div></div>\n<div>如果把eax前面的两个“%”改成一个“%”&#xff0c;则函数ex1编译正确。</div>\n<div></div>\n<div>可是&#xff0c;在视频“4.3 GCC内联汇编”讲到Example 1时&#xff0c;说汇编代码与内联汇编的对应关系是&#xff08;并且强调多加一个“%”&#xff09;&#xff1a;</div>\n<div></div>\n<div>movl $0xffff, %eax       ----&gt;   asm (“movl $0xffff, %%eax\\n”);</div>\n<div></div>\n<div>怎么讲的与实际的情况相矛盾&#xff1f;</div>\n<div></div>\n<div>带着这个问题&#xff0c;我阅看了本节&#xff08;4.3&#xff09;ppt中“CC内联汇编-参考资料”指定的内容&#xff1a;“GCC Manual 6.41 –6.43&#xff08;version 4.9.2)”和“<a href=\"http://www.ibm.com/developerworks/library/l-ia/index.html\" target=\"_blank\">Inline assembly for x86 in Linux</a>”。</div>\n<div></div>\n<div>但这两处只讲扩展asm&#xff08;extended asm&#xff09;语句结构&#xff0c;甚至都没有提到“基本asm&#xff08;basic asm&#xff09;语句”这个概念。</div>\n<div></div>\n<div>后来在GNU网站找到了一个网页<a href=\"https://gcc.gnu.org/onlinedocs/gcc.pdf\" target=\"_blank\">https://gcc.gnu.org/onlinedocs/gcc.pdf</a>&#xff08;GCC Manual&#xff0c; 版本为5.0.0 pre-release&#xff09;&#xff0c;内面6.43节&#xff08;How to Use Inline Assembly Language in C Code&#xff09;介绍&#xff1a;</div>\n<div></div>\n<div>GCC 提供了两种inline asm statements&#xff1a;basic asm statement和extended asm statement。</div>\n<div></div>\n<div>其中&#xff1a;</div>\n<div></div>\n<div>基本asm语句&#xff08;basic asm statement&#xff09;语法为</div>\n<div>asm [ volatile ] ( Assembler Instructions )</div>\n<div></div>\n<div>扩展asm语句&#xff08;extended asm statement&#xff09;语法为</div>\n<div>asm [volatile] ( Assembler Template<br />: Output Operands<br />[ : Input Operands<br />[ : Clobbers ] ])</div>\n<div>&#xff08;还有一种形式&#xff0c;不再赘述&#xff09;</div>\n<div></div>\n<div>&#xff08;还可参考<a href=\"http://www.ibiblio.org/gferg/ldp/GCC-Inline-Assembly-HOWTO.html\" target=\"_blank\">GCC-Inline-Assembly-HOWTO</a>&#xff09;</div>\n<div></div>\n<div>至此&#xff0c;答案找到了&#xff1a;对于基本asm语句&#xff0c;GCC编译出来的汇编代码就是双引号里的内容。&#xff08;对于扩展asm语句&#xff0c;内联汇编才比汇编代码多一个%。&#xff09;</div>\n<div></div>\n</div>\n<p>比如&#xff0c;对内联汇编语句“asm (“movl $0xffff, %%eax\\n”);”编译&#xff0c;因为它属于基本asm语句的语法格式&#xff0c;得到的汇编代码是“movl $0xffff, %%eax”&#xff0c;此代码不符合AT&amp;T语法&#xff08;eax前多一个%&#xff09;。</p>\n<p>即&#xff0c;要产生正确的汇编代码“movl $0xffff, %eax”&#xff0c;内联汇编应该是asm (“movl $0xffff, %eax\\n”);&#xff08;eax前只能一个%&#xff09;。</p>\n<p></p>\n<p>所以&#xff0c;我认为4.3节“GCC内联汇编”&#xff08;包括视频和ppt&#xff09;和实验文件&#xff08;/ucore_lab/related_info/lab1 lab1-ex3.c&#xff09;需要完善。</p>", "created": "2015-03-31T03:42:07Z", "anon": "stud"}], "data": {"embed_links": []}, "request_instructor_me": false, "folders": ["lab1", "视频纠错", "文档纠错"], "type": "question", "tag_good": [{"class_sections": ["课程设计_i5j09fnsl7k5x0", "清华学生_i5j09fnsl7k5x0"], "admin": true, "role": "instructor", "facebook_id": null, "us": false, "name": "Yu Chen", "id": "hcrrjuyequh4bt", "photo": "1378950179_35.png"}, {"admin": false, "role": "student", "facebook_id": null, "us": false, "name": "郭子雷", "id": "i78odcf1aiM", "photo": null}, {"class_sections": ["清华学生_i5j09fnsl7k5x0"], "admin": false, "role": "student", "facebook_id": null, "us": false, "name": "ejacky", "id": "i6x8l44nF0P", "photo": null}], "no_answer": 0, "created": "2015-03-31T03:42:07Z", "t": 1433500227635, "id": "i7wrdi89in73sn", "status": "active", "tag_good_arr": ["hcrrjuyequh4bt", "i78odcf1aiM", "i6x8l44nF0P"], "default_anonymity": "no", "my_favorite": false, "bucket_order": 2, "is_bookmarked": false, "is_tag_good": false, "bucket_name": "Today", "no_answer_followup": 0, "children": [{"folders": [], "bucket_order": 2, "config": {}, "history": [{"subject": "", "content": "<p>&#64;Alanpsc 你理解的非常深入&#xff01;</p>\n<p>多谢&#xff01;我忽视了扩展asm&#xff08;extended asm&#xff09;与基本asm&#xff08;basic asm&#xff09;的区别。</p>\n<p>我已经更新了ucore_lab/related_info/lab1/lab1-ex3.c</p>\n<p>视频和ppt需要下次更新了。</p>\n<p>也请其他同学注意一下。</p>", "created": "2015-04-01T03:47:14Z", "uid": "hcrrjuyequh4bt", "anon": "no"}], "data": {"embed_links": []}, "bucket_name": "Today", "is_tag_endorse": false, "children": [], "tag_endorse": [], "tag_endorse_arr": [], "created": "2015-04-01T03:47:14Z", "id": "i7y6zxl7n1z2y6", "type": "i_answer"}, {"no_upvotes": 0, "bucket_name": "Week 3/29 - 4/4", "bucket_order": 11, "updated": "2015-04-01T11:53:58Z", "config": {}, "anon": "stud", "data": {"embed_links": null}, "folders": [], "subject": "<p>陈老师&#xff0c;这个帖子是我私信给你的&#xff0c;大慨其他人看不见。</p>\n<p>如何让童鞋们了解扩展asm与基本asm的不同点&#xff0c;还是由你来处理吧。</p>", "children": [{"uid": "hcrrjuyequh4bt", "bucket_name": "Week 3/29 - 4/4", "bucket_order": 11, "updated": "2015-04-01T14:05:05Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>我还没注意到是私信。谢谢&#xff01;</p>\n<p>非常欢迎指出老师的错误&#xff0c;这样大家可以一起进步。</p>\n<p>我会公布出去。</p>\n<p>请问你是清华的学生吗&#xff1f;</p>\n<p>无论是否&#xff0c;请告诉我你的姓名和联系方式。</p>", "children": [], "type": "feedback", "created": "2015-04-01T14:05:05Z", "id": "i7yt2hrlzbd4sw"}, {"uid": "i6rvi22aN6Q", "bucket_name": "Week 3/29 - 4/4", "bucket_order": 11, "updated": "2015-04-03T09:30:54Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>既然老师是这么开放的态度&#xff0c;我也借这个平台&#xff0c;公开说说与课程内容关联不大的话&#xff0c;希望能和大家分享。</p>\n<p></p>\n<p>1. 我是清华校外的MOOCer。</p>\n<p>除了在学堂在线学习包括本课程在内的课程&#xff0c;如果还要算与清华有关系的事&#xff0c;就是曾经在深圳研究生院攻读过工程硕士&#xff08;没有拿到毕业证书&#xff5e;&#xff09;。</p>\n<p></p>\n<p>2. 我跟你们的课&#xff0c;是第一次系统地学习OS。</p>\n<p></p>\n<p>先前自己零零碎碎翻看了一点OS方面的书&#xff0c;阅读时好像懂一点&#xff0c;合上书后脑袋几乎一片空白&#xff0c;原因是&#xff1a;由于只是纸上谈兵&#xff0c;没有实际的体会&#xff0c;所以对于理论和实践结合紧密的OS课程&#xff0c;没有掌握感。</p>\n<p></p>\n<p>现在清华开设能在线做实验的在线OS中文课&#xff08;还与清华本校的该课程同步&#xff09;&#xff0c;真是太好了&#xff01;感谢两位老师、助教团队等人员的付出&#xff0c;也感谢小伙伴们的学习陪伴----这话可是发自肺腑的&#xff0c;因为你们给了我了却掌握OS心愿的机会。</p>\n<p></p>\n<p>我的学习&#xff0c;除了理解原理&#xff0c;重点放在做基本的实验上&#xff0c;希望能把握OS的每一个环节&#xff08;也想听听大家对于做到这点的方法论&#xff09;----这需要花费大量的时间。</p>\n<p></p>\n<p>&#xff08;当然&#xff0c;清华在校童鞋不能按照我的方式来学习&#xff0c;毕竟小伙伴们要拿学分&#xff0c;还有其他课程&#xff0c;另外还有想整体认识或理解OS原理的MOOC学习者&#xff0c;恐怕都要采取学一些基本或根本的知识点、做一些必要的实验的策略。&#xff09;</p>\n<p></p>\n<p>说句实在话&#xff0c;我现在刚刚开始做lab1&#xff0c;但我不紧张&#xff0c;因为不是冲着证书来的&#xff0c;搞到哪儿&#xff0c;算到哪儿&#xff0c;不行下次还会开课。。。&#xff08;这个可以有^_^&#xff09;</p>\n<p></p>\n<p>我主张使用批判性思维&#xff08;Critical thinking&#xff09;来学习&#xff0c;通过实践操作和逻辑思考合理地质疑知识点。</p>\n<p></p>\n<p>除了OS&#xff0c;数据结构也是去年才跟着邓俊辉老师讲的MOOC课程来系统学习的&#xff0c;可见编程能力也一般般。所以说&#xff0c;我不是火命&#xff0c;我是水货&#xff0c;哈哈。。。</p>\n<p></p>\n<p>&#xff08;清华的MOOC课程&#xff0c;整体上是我见过中文在线课程最好的&#xff0c;没有之一&#xff0c;配置强大的课程组团队&#xff0c;尤其是OS课程&#xff0c;交流都选择Piazza这么完美的平台&#xff0c;老师&#xff08;包括助教&#xff09;积极、认真、负责回答问题&#xff0c;而且是开放的态度。这可不是拍马屁哦&#xff0c;是我的心感悟到的。&#xff09;</p>\n<p></p>\n<p>可能我这个半吊子有一个特点&#xff0c;就是琢磨问题深一点。</p>\n<p>能和大伙儿分享学习心得&#xff0c;我满足。</p>\n<p>能给课程完善做点儿事情&#xff0c;我骄傲。</p>\n<p></p>\n<p></p>\n<p>3. 我愿意提供联系方式给老师。在这儿&#xff0c;就半开放一下&#xff0c;先留下email&#xff1a;alanpsc&#64;126.com和姓&#xff1a;彭。</p>\n<p></p>\n<p></p>", "children": [], "type": "feedback", "created": "2015-04-03T09:30:54Z", "id": "i81e5lq1i7n5mm"}], "type": "followup", "no_answer": 0, "created": "2015-04-01T11:53:58Z", "id": "i7yodvikrg4723"}, {"no_upvotes": 0, "uid": "i78odcf1aiM", "bucket_name": "Week 3/29 - 4/4", "bucket_order": 11, "updated": "2015-04-03T02:09:33Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "之前做的时候&#xff0c;以为必须在后面加冒号&#xff0c;原来是这个原因。非常感谢", "children": [], "type": "followup", "no_answer": 0, "created": "2015-04-03T02:09:33Z", "id": "i80ye0p8ppz5nz"}], "request_instructor": 0, "tags": ["lab1", "student", "文档纠错", "视频纠错"], "s_edits": [], "num_favorites": 1}, "aid": "iajh0unn58t4h0"}