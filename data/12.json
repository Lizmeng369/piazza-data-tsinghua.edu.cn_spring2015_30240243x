{"error": null, "result": {"nr": 12, "upvote_ids": [], "change_log": [{"type": "create", "when": "2015-03-02T18:08:44Z", "uid": "i6ry1ln7xRU", "data": "i6s6ka4ktsg1at", "anon": "no"}, {"type": "followup", "to": "i6s6ka2zkz71as", "when": "2015-03-02T23:56:43Z", "uid": "i6ry30g7v1z", "anon": "no"}, {"uid": "hdjoucuyb836fq", "to": "i6s6ka2zkz71as", "when": "2015-03-03T00:39:02Z", "anon": "no", "data": "i6ski7nls776c5", "type": "i_answer"}, {"type": "feedback", "to": "i6s6ka2zkz71as", "when": "2015-03-03T00:40:46Z", "uid": "hdjoucuyb836fq", "anon": "no"}, {"type": "feedback", "to": "i6s6ka2zkz71as", "when": "2015-03-03T01:00:34Z", "uid": "i6ry30g7v1z", "anon": "no"}], "q_edits": [], "i_edits": [], "unique_views": 161, "bookmarked": 3, "config": {}, "history": [{"subject": "qemu 和 gdb联合调试 gdb 该调试哪个文件", "content": "<p> 在qemu 联合gdb的调试中&#xff0c;看了网上资料还有实验手册&#xff0c;在一个终端里我用make qemu这是qemu开启&#xff0c;但是在第二的终端里 我应该gdb &#xff1f;呢 我尝试了 bin目录下的所有文件 但是都是无法 用gdb 。 </p>", "created": "2015-03-02T18:08:44Z", "uid": "i6ry1ln7xRU", "anon": "no"}], "data": {"embed_links": []}, "request_instructor_me": false, "folders": ["lab1"], "type": "question", "tag_good": [{"admin": false, "role": "student", "facebook_id": null, "us": false, "name": "Yinxu Pan", "id": "i6vgn93glrq25f", "photo": null}], "no_answer": 0, "created": "2015-03-02T18:08:44Z", "t": 1433499917992, "id": "i6s6ka2zkz71as", "status": "active", "tag_good_arr": ["i6vgn93glrq25f"], "default_anonymity": "no", "my_favorite": false, "bucket_order": 2, "is_bookmarked": false, "is_tag_good": false, "bucket_name": "Today", "no_answer_followup": 0, "children": [{"no_upvotes": 0, "uid": "i6ry30g7v1z", "bucket_name": "This week", "bucket_order": 4, "updated": "2015-03-02T23:56:43Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>make debug</p>\n<p>然后新建一个终端</p>\n<p>输入gdb</p>\n<p></p>", "children": [{"uid": "hdjoucuyb836fq", "bucket_name": "This week", "bucket_order": 4, "updated": "2015-03-03T00:40:46Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>make debug运行2s后会有一个终端蹦出来执行gdb。</p>", "children": [], "type": "feedback", "created": "2015-03-03T00:40:46Z", "id": "i6skkfzt1g221"}, {"uid": "i6ry30g7v1z", "bucket_name": "This week", "bucket_order": 4, "updated": "2015-03-03T01:00:34Z", "config": {}, "anon": "no", "data": {"embed_links": null}, "folders": [], "subject": "<p>汗&#xff0c;没测试ucore的&#xff0c;也没看makefile </p>\n<p>是根据以前的经验来说的 记得xv6 JOS应该是手动吧</p>\n<p>看了下ucore的makefile</p>\n<pre>debug: $(UCOREIMG)<br /> $(V)$(QEMU) -S -s -parallel stdio -hda $&lt; -serial null &amp;<br /> $(V)sleep 2<br /> $(V)$(TERMINAL)  -e &#34;cgdb -q -x tools/gdbinit&#34;</pre>\n<p>以后不清楚的不乱回答了&#xff0c;以免误人。</p>", "children": [], "type": "feedback", "created": "2015-03-03T01:00:34Z", "id": "i6sl9w45ncq6vy"}], "type": "followup", "no_answer": 0, "created": "2015-03-02T23:56:43Z", "id": "i6sizs4aoce2fq"}, {"folders": [], "bucket_order": 2, "config": {}, "history": [{"subject": "", "content": "<p>ucore lab的Makefile中有运行调试的目标&#xff0c;可以直接执行make debug-nox&#xff0c;当前窗口会显示qemu的输出&#xff0c;2s后会打开一个新的终端并启动gdb。</p>\n<p></p>\n<p>如果要手工执行gdb&#xff0c;在第二个终端里的命令为gdb -q -x tools/gdbinit&#xff0c;其中-q禁止gdb在启动时输出版权信息&#xff0c;-x tools/gdbinit让gdb在启动后执行tools/gdbinit里的命令&#xff0c;tools/gdbinit中包含加载ELF调试信息、连接remote target等基本操作。</p>\n<p></p>\n<p>用gdb调试时&#xff0c;gdb需要目标程序的调试信息来确定函数地址、局部变量信息等&#xff0c;而调试信息是附在被调试的ELF文件中的。对于lab1中生成的bin目录&#xff1a;</p>\n<pre>[mjj&#64;mjj-server bin]$ for i in *; do file $i; done\nbootblock: x86 boot sector\nkernel: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), statically linked, not stripped\nsign: ELF 64-bit LSB executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=f1335194f5f92af0f003373df32ff164095596a8, not stripped\nucore.img: x86 boot sector</pre>\n<p>可以看到&#xff0c;bootblock和ucore.img是包含引导扇区的镜像&#xff0c;sign是64位ELF文件&#xff0c;只有kernel是32位的ELF文件&#xff0c;因此需要加载的文件是bin/kernel。bin/kernel的具体生成步骤请参考Makefile。</p>", "created": "2015-03-03T00:39:02Z", "uid": "hdjoucuyb836fq", "anon": "no"}], "data": {"embed_links": []}, "bucket_name": "Today", "is_tag_endorse": false, "children": [], "tag_endorse": [], "tag_endorse_arr": [], "created": "2015-03-03T00:39:02Z", "id": "i6ski7nisrr6c4", "type": "i_answer"}], "request_instructor": 0, "tags": ["lab1", "student"], "s_edits": [], "num_favorites": 0}, "aid": "iajgu7qhhpj6vt"}